<!DOCTYPE html><html lang="en"> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Specific legend holders - Specific use cases - ODS Charts</title><link href="https://cdn.jsdelivr.net/npm/boosted@5.3.3/dist/css/orange-helvetica.min.css" rel="stylesheet" integrity="sha384-A0Qk1uKfS1i83/YuU13i2nx5pk79PkIfNFOVzTcjCMPGKIDj9Lqx9lJmV7cdBVQZ" crossorigin="anonymous"><link href="https://cdn.jsdelivr.net/npm/boosted@5.3.3/dist/css/boosted.min.css" rel="stylesheet" integrity="sha384-laZ3JUZ5Ln2YqhfBvadDpNyBo7w5qmWaRnnXuRwNhJeTEFuSdGbzl4ZGHAEnTozR" crossorigin="anonymous"><link href="/0.2/tarteaucitron-config.css" rel="stylesheet"><link href="/0.2/style.css" rel="stylesheet"><link rel="apple-touch-icon" href="/0.2/images/favicons/apple-touch-icon.png" sizes="180x180"><link rel="icon" href="/0.2/images/favicons/favicon-32x32.png" sizes="32x32" type="image/png"><link rel="icon" href="/0.2/images/favicons/favicon-16x16.png" sizes="16x16" type="image/png"><link rel="manifest" href="/0.2/images/favicons/manifest.json"><link rel="mask-icon" href="/0.2/images/favicons/safari-pinned-tab.svg" color="#000"><link rel="icon" href="/0.2/images/favicons/favicon.ico"><meta name="msapplication-config" content="/0.2/images/favicons/browserconfig.xml"><meta name="theme-color" content="#000"><script type="text/javascript" src="/0.2/ods-charts.js"></script><script type="text/javascript" src="/0.2/color-mode.js"></script><script src="https://cdn.jsdelivr.net/npm/echarts@5.6.0/dist/echarts.min.js" integrity="sha384-pPi0zxBAoDu6+JXW/C68UZLvBUUtU+7zonhif43rqj7pxsGyqyqzcian2Rj37Rss" crossorigin="anonymous"></script><script src="/0.2/use-cases.js"></script></head> <body> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="lightning-charge-fill" viewBox="0 0 16 16"> <path d="M11.251.068a.5.5 0 0 1 .227.58L9.677 6.5H13a.5.5 0 0 1 .364.843l-8 8.5a.5.5 0 0 1-.842-.49L6.323 9.5H3a.5.5 0 0 1-.364-.843l8-8.5a.5.5 0 0 1 .615-.09z"></path> </symbol> </svg> <header class="sticky-top" data-bs-theme="dark"> <nav class="navbar navbar-expand-lg" aria-label="Global navigation"> <div class="container-xxl"> <div class="navbar-brand me-auto me-lg-4"> <a class="stretched-link" href="/"> <img src="/0.2/images/orange-logo.svg" width="50" height="50" alt="ODS Charts - Back to Home" loading="lazy"> </a> <h1 class="title">ODS Charts</h1> </div> <button class="navbar-toggler collapsed" type="button" data-bs-toggle="collapse" data-bs-target=".global-header" aria-controls="global-header1 global-header2" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <div id="global-header1" class="navbar-collapse collapse me-lg-auto mb-0 border-0 global-header"> <ul class="navbar-nav"> <li class="nav-item"> <a class="nav-link" href="/0.2/api">API</a> </li> <li class="nav-item"> <a class="nav-link" href="/0.2/examples/" aria-current="false">Examples</a> </li> <li class="nav-item"> <a class="nav-link active" href="/0.2/use_cases/" aria-current="page">Use cases</a> </li> <li class="nav-item"> <a class="nav-link" href="/0.2/colors" aria-current="false">Colors</a> </li> </ul> </div> <div id="global-header2" class="navbar-collapse collapse global-header"> <hr class="m-0 border-1 border-dark d-lg-none"> <ul class="navbar-nav flex-row"> <li class="nav-item"> <a class="nav-link nav-icon" href="https://github.com/Orange-OpenSource/ods-charts" target="blank" rel="noopener"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 499.36" role="img" height="16" width="16"> <title>GitHub</title> <path fill="currentColor" fill-rule="evenodd" d="M256 0C114.64 0 0 114.61 0 256c0 113.09 73.34 209 175.08 242.9 12.8 2.35 17.47-5.56 17.47-12.34 0-6.08-.22-22.18-.35-43.54-71.2 15.49-86.2-34.34-86.2-34.34-11.64-29.57-28.42-37.45-28.42-37.45-23.27-15.84 1.73-15.55 1.73-15.55 25.69 1.81 39.21 26.38 39.21 26.38 22.84 39.12 59.92 27.82 74.5 21.27 2.33-16.54 8.94-27.82 16.25-34.22-56.84-6.43-116.6-28.43-116.6-126.49 0-27.95 10-50.8 26.35-68.69-2.63-6.48-11.42-32.5 2.51-67.75 0 0 21.49-6.88 70.4 26.24a242.65 242.65 0 0 1 128.18 0c48.87-33.13 70.33-26.24 70.33-26.24 14 35.25 5.18 61.27 2.55 67.75 16.41 17.9 26.31 40.75 26.31 68.69 0 98.35-59.85 120-116.88 126.32 9.19 7.9 17.38 23.53 17.38 47.41 0 34.22-.31 61.83-.31 70.23 0 6.85 4.61 14.81 17.6 12.31C438.72 464.97 512 369.08 512 256.02 512 114.62 397.37 0 256 0z"></path> </svg> <span class="visually-hidden">GitHub</span> </a> </li> <li class="nav-item dropdown"> <button class="nav-link nav-icon ods-charts-nav-text dropdown-toggle" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static"> <span class="d-lg-none" aria-hidden="true">ODS Charts&nbsp;</span> <span class="visually-hidden">ods charts </span>
v0.2 <span class="visually-hidden">(switch to other versions)</span> </button> <ul class="dropdown-menu dropdown-menu-end mb-2 mb-lg-0" aria-labelledby="bd-theme-text"> <li> <a class="dropdown-item d-flex align-items-center" href="/">Go to latest</a> </li> <li> <a class="dropdown-item d-flex align-items-center" href="/0.1">v0.1.3</a> </li> <li> <hr class="dropdown-divider"> </li> <li> <a class="dropdown-item d-flex align-items-center" href="/versions">All versions</a> </li> </ul> </li> <li class="nav-item dropdown"> <button class="nav-link nav-icon dropdown-toggle" id="bd-theme" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle mode (auto)"> <svg class="theme-icon-active"><use href="/0.2/images/ods-charts-icons.svg#ui-auto-mode"></use></svg> <span class="d-sm-none ms-2" id="bd-theme-text">Toggle mode</span> </button> <ul class="dropdown-menu dropdown-menu-end mb-2" aria-labelledby="bd-theme-text"> <li> <button type="button" class="dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false"> <svg class="me-2"><use href="/0.2/images/ods-charts-icons.svg#ui-light-mode"></use></svg>
Light
<svg class="ms-auto d-none"><use href="/0.2/images/ods-charts-icons.svg#check2"></use></svg> </button> </li> <li> <button type="button" class="dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false"> <svg class="me-2"><use href="/0.2/images/ods-charts-icons.svg#ui-dark-mode"></use></svg>
Dark
<svg class="ms-auto d-none"><use href="/0.2/images/ods-charts-icons.svg#check2"></use></svg> </button> </li> <li> <button type="button" class="dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true"> <svg class="me-2"><use href="/0.2/images/ods-charts-icons.svg#ui-auto-mode"></use></svg>
Auto
<svg class="ms-auto d-none"><use href="/0.2/images/ods-charts-icons.svg#check2"></use></svg> </button> </li> </ul> </li> </ul> </div> </div> </nav> </header> <main>     <div class="title-bar">
  <div class="container-xxl">
    <h1 class="display-1">Specific legend holders</h1>
  </div>
</div>
<div class="container-xxl pt-3">
  <div class="card w-100">
    <div class="card-body">
      <h5 class="card-title">Vertical legend holder example</h5>
      <p class="card-text pe-5">You may wish to display the legends vertically, for example to the right of the graph.</p>
      <p class="card-text pe-5">
        To do this, you can use the Apache ECharts <code>legend.orient</code> option:
        <code>
          </code></p><pre><code>legend: {
  data: ['label 0', 'label 1', 'label 2'],
  orient: 'vertical',
}
          </code></pre><code>
        </code>
      <p></p>
      <div class="ms-5 mb-2 p-2 pe-5 text-body-secondary border-start border-subtle bg-body-secondary">
        <p class="card-text text-body-secondary">
          <small>
            NB: This orientation could also be provided through
            <code class="text-body-secondary">externalizeLegends()</code> method providing in place of the CSS selector for the caption container an object including the selector and the orientation <code class="text-body-secondary">{ legendHolderSelector: string; orientation: 'vertical' | 'horizontal';}</code> :
            <code class="text-body-secondary">
              </code></small></p><pre><small><code class="text-body-secondary">themeManager.externalizeLegends(myChart, {legendHolderSelector: '#barChartSH_legend', orientation: 'vertical'});
            </code></small></pre><small><code class="text-body-secondary">
            </code>
          </small>
        <p></p>
      </div>
      <p class="card-text pe-5">In the example below, we prefer the Apache ECharts <code>legend.orient</code> method.</p>
      <button class="btn btn-icon btn-outline-secondary btn-edit" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="Open in playground">
        <svg width="1.25rem" height="1.25rem" fill="currentColor" aria-hidden="true">
          <use xlink:href="#lightning-charge-fill"></use>
        </svg>
        <span class="visually-hidden">Open in playground using StackBlitz</span>
      </button>
      <div id="vertical_htmlId">
        <div class="border border-subtle" style="display: flex; flex-direction: column; height: 100%">
          <div class="chart_title">
            <h4 class="display-4 mx-3 mb-1 mt-3">Title</h4>
            <h5 class="display-5 mx-3 mb-1 mt-0">Sub-Title</h5>
          </div>
          <div class="row">
            <div class="col-10">
              <div id="barChartSH_holder">
                <div id="barChartSH_chart" style="width: 100%; height: 50vh"></div>
              </div>
            </div>
            <div class="col-2">
              <div id="barChartSH_legend"></div>
            </div>
          </div>
        </div>
      </div>
      <script>
        addViewCode('vertical_');
      </script>
    </div>
  </div>
  <script id="vertical_codeId">
    ///////////////////////////////////////////////////
    // Used data
    ///////////////////////////////////////////////////
// this is the data to be displayed
var dataOptions = {
  yAxis: {
    type: 'category',
    data: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
  },
  xAxis: {},
  series: [
    {
      data: [10, 22, 28.8956454657, 23, 19, 15],
      type: 'bar',
      stack: true,
    },
    {
      data: [28.8956454657, 23, 19, 15, 18, 12],
      type: 'bar',
      stack: true,
    },
    {
      data: [19, 15, 18, 12, 28.8956454657, 23],
      type: 'bar',
      stack: true,
    },
  ],
  legend: {
    data: ['label 0', 'label 1', 'label 2'],
    orient: 'vertical',
  },
};

///////////////////////////////////////////////////
// ODSCharts
///////////////////////////////////////////////////
// Build the theme
var themeManager = ODSCharts.getThemeManager();

// register this theme to echarts
echarts.registerTheme(themeManager.name, themeManager.theme);

// get the chart holder and initiate it with the generated theme
var div = document.getElementById('barChartSH_chart');
var myChart = echarts.init(div, themeManager.name, {
  renderer: 'svg',
});

// Set the data to be displayed.
themeManager.setDataOptions(dataOptions);
// Register the externalization of the legend.
themeManager.externalizeLegends(myChart, '#barChartSH_legend');
// Manage window size changed
themeManager.manageChartResize(myChart, 'barChartSH_chart');
// Register the externalization of the tooltip/popup
themeManager.externalizePopover();
// Observe dark / light mode changes
themeManager.manageThemeObserver(myChart);
// Display the chart using the configured theme and data.
myChart.setOption(themeManager.getChartOptions());
</script>
  
  <div class="card w-100 mt-3">
    <div class="card-body">
      <h5 class="card-title">Legends holders for stacked bars example</h5>
      <p class="card-text pe-5">In the following example, we want to display the legends for a first set of stacked bars separately from those for a second set of stacked bars and the legend for a curve.</p>
      <p class="card-text pe-5">To do this, we pass as a parameter to the externalizeLegends() method not a CSS selector of the legend container but an array of containers defined by the <code>{legendHolderSelector: string; orientation?: 'vertical' | 'horizontal'; seriesRef?: string[]}</code> object.</p>
      <ul>
        <li><code>legendHolderSelector</code> is the CSS selector of the legend holder.</li>
        <li><code>orientation</code> optionally indicates whether captions are displayed horizontally or vertically. By default, the value of the <code>legend.orient</code> option in Apache Echarts will be used if it exists, otherwise it will be <code>'horizontal'</code>.</li>
        <li>
          <code>seriesRef</code> is an array referencing the series whose legends are to be displayed in this legend container. The reference can be the series name, the series label or simply the stack name in the case of stacked bars.<br>
          If <code>seriesRef</code> is absent, this container will be the default container for non-referenced legends.
        </li>
      </ul>
      <p class="card-text pe-5">
        We'll then have the following code to externalize our three types of legend into three different containers:
        <code>
          </code></p><pre><code>themeManager.externalizeLegends(
  myChart,
  [{ legendHolderSelector: '#results_stack_legend', seriesRef: ['result'], orientation: 'vertical' },
    { legendHolderSelector: '#goals_stack_legend', seriesRef: ['goals'], orientation: 'vertical' },
    { legendHolderSelector: '#line_legend'
  }]
);
          </code></pre><code>
        </code>
      <p></p>
      <button class="btn btn-icon btn-outline-secondary btn-edit" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="Open in playground">
        <svg width="1.25rem" height="1.25rem" fill="currentColor" aria-hidden="true">
          <use xlink:href="#lightning-charge-fill"></use>
        </svg>
        <span class="visually-hidden">Open in playground using StackBlitz</span>
      </button>
      <div id="stacked_htmlId">
        <div class="border border-subtle position-relative">
          <div class="chart_title">
            <h4 class="display-4 mx-3 mb-1 mt-3">Title</h4>
            <h5 class="display-5 mx-3 mb-1 mt-0">Sub-Title</h5>
          </div>
          <div id="barLine_holder">
            <div id="barLine_chart" style="width: 100%; height: 50vh" class="position-relative"></div>
          </div>
          <div class="row mx-2">
            <div class="col-4">
              <label class="label">Results</label>
              <div id="results_stack_legend"></div>
            </div>
            <div class="col-4">
              <label class="label">Goals</label>
              <div id="goals_stack_legend"></div>
            </div>
            <div class="col-4">
              <label class="label visually-hidden">Average</label>
              <div id="line_legend"></div>
            </div>
          </div>
        </div>
      </div>
      <script>
        addViewCode('stacked_');
      </script>
    </div>
  </div>
  <script id="stacked_codeId">
    ///////////////////////////////////////////////////
    // Used data
    ///////////////////////////////////////////////////
var average = new Array(...new Array(12).keys()).map((i) => {
  return 50 + Math.random() * 50;
});

var results1 = new Array(...new Array(12).keys()).map((i) => {
  return 50 + Math.random() * 50;
});
var results2 = new Array(...new Array(12).keys()).map((i) => {
  return 50 + Math.random() * 50;
});
var results3 = new Array(...new Array(12).keys()).map((i) => {
  return 50 + Math.random() * 50;
});
var goals1 = new Array(...new Array(12).keys()).map((i) => {
  return 50 + Math.random() * 50;
});
var goals2 = new Array(...new Array(12).keys()).map((i) => {
  return 50 + Math.random() * 50;
});

var dates = new Array(...new Array(12).keys()).map((i) => {
  var d = new Date();
  d.setMonth(d.getMonth() - i);
  return d.toLocaleDateString(undefined, {
    month: 'short',
    year: 'numeric',
  });
});

// Data to be displayed
var dataOptions = {
  xAxis: {
    type: 'category',
    data: dates,
  },
  yAxis: {},
  series: [
    {
      data: results1,
      type: 'bar',
      stack: 'result',
    },
    {
      data: results2,
      type: 'bar',
      stack: 'result',
    },
    {
      data: results3,
      type: 'bar',
      stack: 'result',
    },
    {
      data: goals1,
      type: 'bar',
      stack: 'goals',
    },
    {
      data: goals2,
      type: 'bar',
      stack: 'goals',
    },
    {
      data: average,
      type: 'line',
    },
  ],
  legend: {
    data: ['Results 1', 'Results 2', 'Results 3', 'Goal 1', 'Goal 2', 'Average'],
  },
};

///////////////////////////////////////////////////
// ODS Charts
///////////////////////////////////////////////////
// Build the theme
var themeManager = ODSCharts.getThemeManager();
echarts.registerTheme(themeManager.name, themeManager.theme);

// Get the chart holder and initiate it with the generated theme
var div = document.getElementById('barLine_chart');
var myChart = echarts.init(div, themeManager.name, {
  renderer: 'svg',
});

// Set the data to be displayed.
themeManager.setDataOptions(dataOptions);
// Register the externalization of the legend.
themeManager.externalizeLegends(myChart, [{ legendHolderSelector: '#results_stack_legend', seriesRef: ['result'], orientation: 'vertical' }, { legendHolderSelector: '#goals_stack_legend', seriesRef: ['goals'], orientation: 'vertical' }, { legendHolderSelector: '#line_legend' }]);
// Manage window size changed
themeManager.manageChartResize(myChart, 'barLine_chart');
// Register the externalization of the tooltip/popup
themeManager.externalizePopover();
// Observe dark / light mode changes
themeManager.manageThemeObserver(myChart);
// Display the chart using the configured theme and data.
myChart.setOption(themeManager.getChartOptions());
</script>
  
</div>   </main> <footer class="footer navbar mt-5" data-bs-theme="dark"> <h2 class="visually-hidden">Sitemap & information</h2> <div class="container-xxl footer-terms"> <ul class="navbar-nav gap-md-3"> <li class="fw-bold">© Orange 2024</li> <li><a class="nav-link" href="javascript:tarteaucitron.userInterface.openPanel();">Cookies</a></li> <li><a class="nav-link" href="https://github.com/Orange-OpenSource/ods-charts/blob/main/LICENSE" target="blank" rel="license noopener">License</a></li> </ul> </div> </footer> <script src="https://cdn.jsdelivr.net/npm/boosted@5.3.3/dist/js/boosted.bundle.min.js" integrity="sha384-3RoJImQ+Yz4jAyP6xW29kJhqJOE3rdjuu9wkNycjCuDnGAtC/crm79mLcwj1w2o/" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/tarteaucitronjs@1.17.0/tarteaucitron.min.js" integrity="sha384-g6Xxn1zA15svldHyZ/Ow+wUUeRxHf/v7eOOO2sMafcnMPFD25n80Yz/3bbhJBSoN" crossorigin="anonymous"></script> <script src="/0.2/tarteaucitron-config.js"></script> <script type="module">document.querySelectorAll('[data-bs-toggle="tooltip"]').forEach(o=>{new boosted.Tooltip(o)});</script> <script type="module" src="/_astro/Scripts.astro_astro_type_script_index_1_lang.yyv0ZOIZ.js"></script>  </body></html>